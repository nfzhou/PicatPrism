import prism.

values(_,[yes,no]).

main =>
    set_sw($stress(ann),[0.8,0.2]),
    set_sw($influences(ann,bob),[0.6,0.2]),
    set_sw($influences(bob,carl),[0.2,0.8]),
    %
    prob($smokes(carl,[carl])).

smokes(X,_) :-
    msw($stress(X),yes).
smokes(X,Visited) :- person(Y), not member(Y,Visited), msw($influences(Y,X),yes), smokes(Y,[X|Visited]).

person(ann).
person(bob).
person(carl).
